- 출처
	- [The rise of "context engineering"](https://blog.langchain.com/the-rise-of-context-engineering/)
- Context engineering
	- LLM이 태스크를 수행할 수 있도록 적절한 정보를 제공하고 툴을 선택할 수 있도록 하는 것
	- LLM 어플리케이션은 단일 프롬프트에서 복잡하고 다이나믹한 에이전틱 시스템으로 발전하고 있다
	- 에이전트가 신뢰도 있는 응답을 만들지 않는 대부분의 경우는 적절한 컨택스트가 제공되지 않았기 때문
		- 지시와 도구가 충분히 모델에게 소통되지 않은 경우
- What is context engineering?
	- 모델에 정확한 정보와 올바른 형식의 툴을 전달하기 위해 동적 시스템을 구성하는 것.
	- Context engineering is a system
		- 복잡한 에이전트는 많은 소스에서 많은 컨텍스트를 받음
			- 개발자, 유저, 이전 상호작용, 툴 호출, 외부 데이터 등에서 온 데이터를 합치는 것은 복잡한 시스템을 포함한다.
	- This system is dynamic
		- 많은 컨택스트는 정적이 아닌, 동적으로 생성되고 변화함
		- 따라서 최종 프롬프트를 설계하는 과정은 단순한 정적인 템플릿이 아니라, 동적이어야 한다.
	- You need the right information
		- 에이전트의 실패는 올바른 컨텍스트가 없기 때문이다.
		- LLM은 마음을 읽을 수 없고, 정확하며 충분한 정보를 제공해야 작동한다.
	- You need the right tools
		- LLM이 입력만으로 작업을 수행할 수 없을 수 있다.
			- 이러한 상황에서 LLM이 작업을 수행하도록 하려면 적절한 도구를 제공해야 한다.
			- 이것은 정보를 탐색할 툴일수도, 액션일수도, 그 사이의 무언가일수도 있다.
		- LLM에게 적절한 도구를 주는 것은 적절한 정보를 주는 것 만큼 중요하다.
	- The form matters
		- 사람이 소통하는 것과 마찬가지로 모델과 소통하는 방법도 중요하다.
			- 짧지만 설명이 자세한 에러 메시지가 큰 JSON Blob보다 낫다.
		- 툴에서도 동일하다. 입력 파라미터가 툴 사용에 영향을 미친다.
	- Can it plausibly accomplish the task?
		- LLM은 생각을 읽는게 아니기 때문에, 성공적인 응답을 할 수 있도록 환경을 만들어야 한다.
		- 실패에서 원인을 분리하는 것도 도움이 된다.
			- 정확하지 않은 정보와 툴을 제공했는가? 아니면 모델이 잘못된 추론을 했는가?
- Why is context engineering is important
	- 에이전틱 시스템이 잘못된 응답을 뱉을 때, 보통은 모델 문제라고 생각한다.
	- 대부분 다음과 같은 두가지 문제로 잘못된 응답이 나오는데, 보통은 두번째때문에 오류가 자주 발생한다.
		- 사용하는 모델이 충분히 좋지 않아서
		- 모델이 좋은 응답을 만들기 위한 적절한 컨텍스트를 받지 못해사
	- 컨택스트가 다음과 같은 이유로 부적절할 수 있음
		- 모델이 판단하기 위한 컨택스트가 없을 수 있다.
			- 모델은 생각을 읽지 못하고, 전달이 안되면 당연히 있는지 모른다.
		- 컨택스트 형식이 잘못되었을 수 있다.
			- 사람처럼 커뮤니케이션이 중요하다. 어떻게 포맷을 하는지가 응답에 영향을 미친다.
- How is context engineering different from prompt engineering
	- 초기에는 개발자들이 프롬프트에 집중했다.
	- 어플리케이션이 복잡해지면서, 완전하고 구조화된 컨택스트를 AI에 전달하는것이 마법의 단어보다 중요해졌다.
	- 프롬프트 엔지니어링 자체가 컨택스트 엔지니어링의 부분집합이다.
		- 컨택스트가 충분히 제공되어도, 이걸 프롬프트에서 어떻게 조립할 것인지는 여전히 중요하다.
		- 차이점은 컨택스트 엔지니어링은 프롬프트를 하나의 입력 세트가 아닌, 적절하게 포맷된 동적인 세트로 구성해야 한다는 것.
	- 컨택스트의 중요한 부분 중 하나는, 코어 지시가 어떻게 동작해야 하는지를 정의해야 한다는 것이다.
		- 프롬프트 엔지니어링에 있어서도 가장 중요한 부분이다.
		- 에이전트가 어떻게 동작할지 명확하고 자세한 지시를 제공해야 한다.
	- 좋은 컨택스트 엔지니어링의 특징으로 다음과 같은 예시가 있다.
		- 툴 사용 : 에이전트가 외부 정보에 접근해야 하는 경우 접근 가능한 툴이 있어야 하며, 정보를 반환할 때 모델이 이해할 수 있는 형태로 포맷되어 있어야 한다
		- 단기 메모리 : 대화가 계속 이어진다면, 대화를 요약하고, 이를 미래에 사용한다.
		- 장기 메모리 : 유저와의 이전 대화에 특정 선호가 있다면, 그 정보를 가져올 수 있어야 한다.
		- 프롬프트 엔지니어링 : 에이전트가 어떻게 동작해야 하는지 명확히 프롬프트에 명시되어야 한다.
		- 정보 획득 : 모델을 호출하기 전 정보를 동적으로 가져오고 호출할 수 있어야 한다.
	- 에이전트의 추상화로 인한 단점 중 하나는 컨텍스트 엔지니어링을 제한한다는 것
		- 어떤게 모델로 들어가는지, 어떤 step으로 갈지 제어할 수 없는 지점이 존재한다.
- [[Communication is all you need]]
	- LLM과의 소통은 어렵고, 충분히 인식되지 않으며, 많은 에이전트 오류의 근본 원인임
		- 이러한 소통을 해결하기 위한 방법이 컨택스트 엔지니어링
	- 완전히 새로운 아이디어가 아니며, 모두가 에이전트 개발하면서 계속 해왔던 것.
		- 이걸 명확한 이름을 붙이고 체계화 한 것.